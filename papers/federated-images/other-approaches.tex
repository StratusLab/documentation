\section{Existing Appliance Management Techniques}
\label{sec:other-approaches}

To manage appliances, cloud distributions must provide tools or
mechanisms for the:
\begin{itemize}
\item Creation of appliances,
\item Storage of appliances,
\item Efficient appliance transport, and
\item Management of appliance metadata.
\end{itemize}
This section describes the approaches used to implement these features
in StratusLab and other cloud distributions.

\subsection{Appliance Repositories (storage)}

Cloud distributions store VM appliances in a variety of ways. 
For example, the OpenStack project~\cite{openstack} 
via its ``Glance'' service, provides appliance discovery, registration and delivery.
The appliances can be stored in simple filesystems or 
object-storage systems like ``Swift''\@. Both metadata about registered appliances 
and the appliances themselves are exposed via the Glance API\@.

In StratusLab, appliances are stored in a web server making them accessible via HTTP;
metadata about those appliances are published in the Marketplace\@. This concept makes it possible 
to share appliances between StratusLab users, and also between users of different cloud 
infrastructures, because of the open accessibility and portability of StratusLab appliances (Sec.~\ref{sec:portable-appliances}). 

\subsection{Appliance Factories (generation)}

New appliances can be created from scratch or by modifying existing appliances.
A number of different tools, like Bitnami~\cite{bitnami}, Puppet~\cite{puppet}, and the StratusLab client,
can be used for this.

Bitnami provides pre-built, ready to deploy appliances with components installed by default.
These can be used to form a base appliance that a user can download and customize with their 
required software and configuration.

StratusLab provides ``image recipes'' for the automated creation of appliances. 
These recipes can be used to create minimal appliances for several
Linux distributions. StratusLab use the recipies to automatically update 
the set of base appliances provided. The StratusLab client also includes a tool that  
automates the creation of a new appliance from an existing base appliance.
The tool installs packages specified by the user and executes a user-defined  
script to configure the newly generated appliance. The new appliance is made available 
in the StratusLab storage service.

\subsection{Appliance Transport}

Appliances could be stored inside or outside of the cloud. In the latter case, 
appliances must be transported to the cloud for use.

The vmcaster/vmcatcher tools developed within the HEPIX Virtualisation Working
Group ~\cite{hepixbooktransfer}, use the concept of subscriptions to an 
appliance list. It makes the download and transport of an appliance 
from the appliance list similar to using a system package manager.
The downloaded appliances are
verified against their X509 signatures and cached.

In StratusLab, appliances are transported from a web
server or from cloud storage. Based on the appliance identifier in the Marketplace,
the transport of the appliance is done transparently by the cloud infrastructure.
The downloaded appliances are then verified and cached in the persistent disk storage,
ensuring that the transport of an appliance is done only once.

\subsection{Appliance Registry}

The StratusLab Marketplace is at the center of the appliance handling
mechanisms in the StratusLab cloud distribution. It contains metadata 
about appliances and serves as a registry for shared appliances. 
In order to use and/or share an appliance, its metadata must be registered 
in the Marketplace\@. 

Once an appliance is created, StratusLab provides simple tools for 
building, cryptographically signing with a valid
certificate, and uploading the metadata to the Marketplace\@.  The Marketplace
validates the metadata entry and verifies the 
email address of the endorser.  If all the checks pass, 
the metadata will then be visible in the Marketplace and other users 
can search for the entry.
